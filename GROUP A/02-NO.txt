#include <stdio.h>
#define INT_MAX 99999
int V;

int minimum_key(int k[], int mst[])
{
    int minimum = INT_MAX, min, i;

    /iterate over all V to find the vertex with minimum key-value/
    for (i = 0; i < V; i++)
        if (mst[i] == 0 && k[i] < minimum)
            minimum = k[i], min = i;
    return min;
}

void prim(int g[V][V])
{
    /* create array of size equal to total number of V for storing the MST*/
    int parent[V];
    int total = 0;
    /* create k[V] array for selecting an edge having minimum weight*/
    int k[V];
    int mst[V];
    int i, count, edge, v; /Here 'v' is the vertex/
    for (i = 0; i < V; i++)
    {
        k[i] = INT_MAX;
        mst[i] = 0;
    }
    k[0] = 0;       /It select as first vertex/
    parent[0] = -1; /* set first value of parent[] array to -1 to make it root of MST*/
    for (count = 0; count < V - 1; count++)
    {
        /select the vertex having minimum key and that is not added in the MST yet from the set of V/
        edge = minimum_key(k, mst);
        mst[edge] = 1;
        for (v = 0; v < V; v++)
        {
            if (g[edge][v] && mst[v] == 0 && g[edge][v] < k[v])
            {
                parent[v] = edge, k[v] = g[edge][v];
            }
        }
    }
    /Print the constructed Minimum spanning tree/
    for (i = 1; i < V; i++)
        total = total + g[i][parent[i]];
    printf("\n Edge \t  Weight\n");
    for (i = 1; i < V; i++)
    {
        printf(" %d <-> %d    %d \n", parent[i], i, g[i][parent[i]]);
    }
    printf("\nTotal weight -> %d", total);
}
void main()
{
        printf("\n Implementing Prim's Algorithm for MST :- ");
        printf("\n ======================================");
        printf("\n Enter the no of vertices :- ");
        scanf("%d", &V);
    int g[V][V], i, j;
    for (i = 0; i < V; i++)
    {
        for (j = 0; j < V; j++)
        {
            if (i == j)
            {
                g[i][j] = 0;
            }
            else
            {
                printf("Enter the edge weight for the edge %d and %d: ", i + 1, j + 1);
                scanf("%d", &g[i][j]);
            }
        }
    }
    prim(g);
}